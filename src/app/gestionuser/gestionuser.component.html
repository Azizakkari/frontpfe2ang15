<div class="container-fluid">
  <div class="panel panel-primary">
    <div class="panel-heading text-center">
      <h3>LISTE DES UTILISATEURS</h3>
    </div>
    <div class="panel-body">
      <mat-list>
        <mat-divider></mat-divider>
        <mat-divider></mat-divider>
        <mat-divider></mat-divider>
        <mat-list-item>
          <h2>Liste des utilisateurs</h2>
        </mat-list-item>

        <mat-divider></mat-divider>
        <mat-divider></mat-divider>
        <mat-divider></mat-divider>

        <td> <button mat-raised-button color="success" (click)="evaluatebolean()"><b>Ajouter un utilisateur</b></button>
        </td>

        <mat-divider></mat-divider>
        <mat-divider></mat-divider>
        <mat-divider></mat-divider>
      </mat-list>

      <div class="container" *ngIf="mybolean">
        <h2>Nouveau utilisateur</h2>
        <form class="form-horizontal" action="/action_page.php">

          <div class="form-group">
            <label class="control-label col-sm-2" for="nom">Nom:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="nom" placeholder="entrez votre nom" name="nom"
                [(ngModel)]="newuser.nom">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-2" for="prenom">Prenom:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="prenom" placeholder="entrez votre prenom" name="prenom"
                [(ngModel)]="newuser.prenom">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-2" for="cin">Cin:</label>
            <div class="col-sm-10">
              <input type="number" class="form-control" id="cin" placeholder="entrez votre cin" name="cin"
                [(ngModel)]="newuser.cin">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-2" for="email">Email:</label>
            <div class="col-sm-10">
              <input type="email" class="form-control" id="email" placeholder="Entez votre email" name="email"
                [(ngModel)]="newuser.email">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-2" for="matricule">Matricule:</label>
            <div class="col-sm-10">
              <input type="number" class="form-control" id="matricule" placeholder="entrez votre matricule"
                name="matricule" [(ngModel)]="newuser.matricule">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-2" for="adresse">Adresse:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="adresse" placeholder="entrez votre adresse" name="adresse"
                [(ngModel)]="newuser.adresse">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-2" for="poste">Poste:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="poste" placeholder="entrez votre poste" name="poste"
                [(ngModel)]="newuser.poste">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-2" for="telephone">Téléphone:</label>
            <div class="col-sm-10">
              <input type="tel" class="form-control" id="telephone" placeholder="entrez votre telephone"
                name="telephone" [(ngModel)]="newuser.telephone">
            </div>
          </div>
          <div>
            <label class="control-label col-sm-2" >Service:</label>
            <div class="col-sm-10">
            <select id="direction" [(ngModel)]="utilisateurupdate.leservice" name="category" required>
              <option *ngFor="let s of messervices" [ngValue]="s">{{ s.nom }}</option>
            </select>
          </div>
        </div>
          <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
              <button type="submit" class="btn btn-primary" (click)=" adduser()">Submit</button>
            </div>
          </div>
        </form>
      </div>




      <table class="table table-bordered" *ngIf="!mybolean">
        <thead>
          <tr class="success">
          </tr>

          <th>id</th>
          <th>nom</th>
          <th>prenom</th>
          <th>cin</th>
          <th>E-mail</th>
          <th>matricule</th>
          <th>adresse</th>
          <th>poste</th>
          <th> telephone</th>
          
          <th> Service</th>
       


          <th>Suppression</th>
          <th> Mise à jour</th>
      



        </thead>

        <tbody>


          <tr *ngFor="let user of  utilisateur">

            <td>{{user.id}}</td>
            <td>{{user.nom}}</td>
            <td>{{user.prenom}}</td>
            <td>{{user.cin}}</td>
            <td>{{user.email}}</td>
            <td>{{user.matricule}}</td>
            <td>{{user.adresse}}</td>
            <td>{{user.poste}}</td>
            <td>{{user.telephone}}</td> 
            
            <td>{{user.leservice?.nom}}</td>
           
            <td> <button mat-raised-button color="warn" (click)="deletuserbyid(user.id)">Suppression</button></td>
            <td><button mat-raised-button color="primary" (click)="userDetails(user.id)"> Mise à jour</button></td>
          
          </tr>

      </table>
      <div class="panel panel-success" *ngIf="mybolean2">
        <div class="panel-heading text-center">
          <h3>Modification</h3>
        </div>
        <div class="panel-body">
          <div class="container">
            <h2>Modification</h2>
            <!-- <form class="form-horizontal" #myForm="ngForm" (submit)="Update()">
                  
                  <div class="form-group">
                    <label class="control-label col-sm-2" for="nom">Nom:</label>
                    <div class="col-sm-10">
                      <input type="text" class="form-control" id="nom" placeholder="entrez votre nom" name="nom" [(ngModel)]="newuser.nom">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="control-label col-sm-2" for="prenom">Prenom:</label>
                    <div class="col-sm-10">
                      <input type="text" class="form-control" id="prenom" placeholder="entrez votre prenom" name="prenom"  [(ngModel)]="newuser.prenom">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="control-label col-sm-2" for="cin">Cin:</label>
                    <div class="col-sm-10">
                      <input type="number" class="form-control" id="cin" placeholder="entrez votre cin" name="cin"  [(ngModel)]="newuser.cin">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="control-label col-sm-2" for="email">Email:</label>
                    <div class="col-sm-10">
                      <input type="email" class="form-control" id="email" placeholder="Entez votre email" name="email"  [(ngModel)]="newuser.email">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="control-label col-sm-2" for="matricule">Matricule:</label>
                    <div class="col-sm-10">
                      <input type="number" class="form-control" id="matricule" placeholder="entrez votre matricule" name="matricule"  [(ngModel)]="newuser.matricule">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="control-label col-sm-2" for="adresse">Adresse:</label>
                    <div class="col-sm-10">
                      <input type="text" class="form-control" id="adresse" placeholder="entrez votre adresse" name="adresse"  [(ngModel)]="newuser.adresse">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="control-label col-sm-2" for="poste">Poste:</label>
                    <div class="col-sm-10">
                      <input type="text" class="form-control" id="poste" placeholder="entrez votre poste" name="poste"  [(ngModel)]="newuser.poste">
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="control-label col-sm-2" for="telephone">Téléphone:</label>
                    <div class="col-sm-10">
                      <input type="tel" class="form-control" id="telephone" placeholder="entrez votre telephone" name="telephone"  [(ngModel)]="newuser.telephone">
                    </div>
                  </div>
                 
                  
                  <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                      <button type="submit" class="btn btn-primary">Submit</button>
                    </div>
                  </div>
                  <button type="submit" class="btn btn-outline-success" >Mettre a jour</button>
                </form> -->
            <mat-list>
              <mat-divider></mat-divider>
              <mat-divider></mat-divider>
              <mat-divider></mat-divider>
            </mat-list>

            <form (ngSubmit)="Update()" #form="ngForm">
              <div>

                <label><b>Nom: </b></label>
                <input type="text" class="form-control" id="nom" placeholder="entrez votre nom" name="nom"
                  [(ngModel)]="utilisateurupdate.nom">
              </div>
              <div>
                <label><b>Prenom: </b></label>
                <input type="text" class="form-control" id="prenom" placeholder="entrez votre prénom" name="Description"
                  [(ngModel)]="utilisateurupdate.prenom">
              </div>
              <div>
                <label>Cin:</label>

                <input type="number" class="form-control" id="cin" placeholder="entrez votre cin" name="cin"
                  [(ngModel)]="utilisateurupdate.cin">
              </div>
              <div>
                <div>
                  <label>Email:</label>

                  <input type="email" class="form-control" id="email" placeholder="entrez votre email" name="email"
                    [(ngModel)]="utilisateurupdate.email">
                </div>

                <label>Matricule:</label>

                <input type="number" class="form-control" id="matricule" placeholder="entrez votre matricule"
                  name="matricule" [(ngModel)]="utilisateurupdate.matricule">
              </div>
              <div>
                <label>Adresse:</label>

                <input type="text" class="form-control" id="adresse" placeholder="entrez votre adresse" name="adresse"
                  [(ngModel)]="utilisateurupdate.adresse">
              </div>
              <div>
                <label>Poste:</label>

                <input type="text" class="form-control" id="poste" placeholder="entrez votre poste" name="poste"
                  [(ngModel)]="utilisateurupdate.poste">
              </div>
              <div>
                <label>Telephone:</label>

                <input type="number" class="form-control" id="telephone" placeholder="entrez votre telephone"
                  name="telephone" [(ngModel)]="utilisateurupdate.telephone">
              </div>
            
              <div>
                <label>Service:</label>
                <select id="direction" [(ngModel)]="utilisateurupdate.leservice" name="category" required>
                  <option *ngFor="let s of messervices" [ngValue]="s">{{ s.nom }}</option>
                </select>
              </div>
         
              <mat-list>
                <mat-divider></mat-divider>

              </mat-list>
              <button type="submit" mat-raised-button color="primary">Mettre à jour</button>
              <mat-list>
                <mat-divider></mat-divider>
                <button type="submit" mat-raised-button color="warn" (click)="evaluatebolean2()">Annuler</button>
              </mat-list>

            </form>
          </div>
        </div>


      </div>
    </div>



  </div>